<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Dungeon Sketch</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#f8f7f4" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
</head>
<body>
  <canvas></canvas>

  
  <div class="hud appShellHud">
    <header class="appTopbar" aria-label="Tools and actions">
      <button id="btnCoverHome" class="topbarTitle topbarTitleButton" type="button" title="Open cover page" aria-label="Open cover page">Dungeon Sketch Alpha v0.15</button>

      <div class="toolbarShell" role="group" aria-label="Main toolbar">
        <details class="toolbarGroup toolbarTools toolbarCollapsible" open aria-label="Tools">
          <summary class="toolbarLabel">Tools</summary>
          <div class="toolbarRow">
            <button class="tool" data-tool="select" title="Select/move/rotate props">Select</button>
            <button class="tool primary" data-tool="space" title="Rectangle (drag)">Rectangle</button>
            <button class="tool" data-tool="path" title="Straight path (tap points)">Straight Path</button>
            <button class="tool" data-tool="free" title="Path (draw)">Path</button>
            <button class="tool" data-tool="line" title="Draw thin lines">Draw</button>
            <button class="tool" data-tool="water" title="Paint water">Water</button>
            <button class="tool" data-tool="arc" title="Arc / circle wall">Arc</button>
            <button class="tool" data-tool="poly" title="Regular polygon">Polygon</button>
            <button class="tool" data-tool="text" title="Add text label">Text</button>
            <button class="tool" data-tool="erase" title="Toggle erase mode for the selected drawing tool">Erase</button>
          </div>
          <div id="polyToolOptions" class="toolSubrow hidden" aria-live="polite">
            <label id="corridorToolRow" class="toolInlineRange hidden" hidden>
              <span>Corridor width <strong id="corridorWidthOut">48</strong></span>
              <input id="corridorWidth" type="range" min="12" max="96" step="4" value="48">
            </label>
            <label id="polyToolRow" class="toolInlineRange hidden" hidden>
              <span>Polygon sides <strong id="polySidesOut">6</strong></span>
              <input id="polySides" type="range" min="3" max="12" step="1" value="6">
            </label>
            <label id="lineToolRow" class="toolInlineRange hidden" hidden>
              <span>Draw style</span>
              <span class="toolInlineCheck"><input id="lineDashed" type="checkbox"><span>Dashed</span></span>
            </label>
          </div>
        </details>

        <details class="toolbarGroup toolbarActions toolbarCollapsible" open aria-label="Actions">
          <summary class="toolbarLabel">Actions</summary>
          <div class="toolbarRow">
            <button id="btnUndo" title="Undo" aria-label="Undo">⟲</button>
            <button id="btnRedo" title="Redo" aria-label="Redo">⟳</button>
            <button id="btnLoadMap" title="Load map (.json)">Load</button>
            <button id="btnSaveMap" title="Save map (.json)">Save</button>
            <button id="btnClear" title="Clear all">Clear</button>
            <button id="btnBugReport" class="bugReportBtn" title="Bug Report" aria-label="Bug Report">Bug Report</button>
            <button id="btnPDF" title="Export multipage PDF">PDF</button>
            <button id="btnExport" title="Export PNG">PNG</button>
          </div>
        </details>
      </div>
</header>

    <div id="alphaBanner" class="alphaBanner" role="status" aria-live="polite" hidden>
      <div class="alphaBannerText">
        <strong>Alpha test warning:</strong> This app is in active testing. Features and behavior may change, and map save files may not be compatible with future versions.
      </div>
      <div class="alphaBannerActions">
        <button id="btnAlphaBannerClose" type="button" class="alphaBannerClose" aria-label="Dismiss alpha warning">✕</button>
      </div>
    </div>

    <div class="donateBanner" role="complementary" aria-label="Developer support">
      <a class="donateBannerLink" href="https://donate.stripe.com/4gM4gBcmO1nG9PA5zF1B601" target="_blank" rel="noopener noreferrer">Support Development</a>
    </div>

    <aside id="leftDrawer" class="leftDrawer" aria-label="Style, render, and assets">
      <div class="drawerCard">
        <div class="drawerHeader">
          <div class="drawerTitle">Style &amp; Render</div>
          <button id="btnDrawerCollapse" type="button" class="drawerMiniBtn" aria-expanded="true" aria-controls="leftDrawerBody" title="Collapse sidebar">⟨</button>
        </div>

        <div class="drawerTabs panelTabBar" role="tablist" aria-label="Sidebar tabs">
          <button id="tabStyleBtn" class="tabBtn primary" type="button" data-panel-tab="style" role="tab" aria-selected="true" aria-controls="styleRenderPage">Style &amp; Render</button>
          <button id="tabAssetsBtn" class="tabBtn" type="button" data-panel-tab="assets" role="tab" aria-selected="false" aria-controls="assetsPage">Assets</button>
        </div>

        <div id="leftDrawerBody" class="drawerBody">
          <div class="tabPanelsWrap">
            <section id="styleRenderPage" class="panelPage" data-panel-page="style" role="tabpanel">
              <div id="styleRenderGeneral" class="controls styleSections">

                <details class="styleSection">
                  <summary>Workspace</summary>
                  <div class="styleSectionBody">
                    <label>
                      Grid size
                      <input id="gridSize" type="range" min="16" max="64" step="4" value="32">
                    </label>

                    <label>
                      Snap subdivisions <span id="snapDivOut">4</span>
                      <input id="snapDiv" type="range" min="1" max="8" step="1" value="4">
                    </label>

                    <label>
                      Gridline thickness <span id="gridLineWidthOut">1</span>
                      <input id="gridLineWidth" type="range" min="0.5" max="4" step="0.5" value="1">
                    </label>

                    <label>
                      Gridline opacity <span id="gridOpacityOut">0.06</span>
                      <input id="gridOpacity" type="range" min="0" max="1" step="0.01" value="0.06">
                    </label>
                  </div>
                </details>

                <details class="styleSection">
                  <summary>Drawing &amp; Snapping</summary>
                  <div class="styleSectionBody">
                    <label>
                      Wall width
                      <input id="wallWidth" type="range" min="2" max="14" step="1" value="6">
                    </label>

                    <label>
                      Snap strength
                      <input id="snapStrength" type="range" min="0" max="1" step="0.05" value="0.95">
                    </label>

                    <label class="inline">
                      <span>Prop grid snap (move/rotate)</span>
                      <input id="propSnapToggle" type="checkbox" checked>
                    </label>
                  </div>
                </details>

                <details class="styleSection">
                  <summary>Map Base Style</summary>
                  <div class="styleSectionBody">
                    <label>
                      Wall color
                      <input id="wallColor" type="color" value="#1f2933">
                    </label>

                    <label>
                      Interior floor color
                      <input id="floorColor" type="color" value="#ffffff">
                    </label>

                    <label>
                      Background color
                      <input id="backgroundColor" type="color" value="#f8f7f4">
                    </label>

                    <label class="inline">
                      <span>Transparent background</span>
                      <input id="transparentBg" type="checkbox">
                    </label>
                  </div>
                </details>

                <details class="styleSection">
                  <summary>Shadows &amp; Depth</summary>
                  <div class="styleSectionBody">
                    <div class="shadowRow">
                      <label class="inline">
                        <span>Interior shadow</span>
                        <input id="shadowOn" type="checkbox" checked>
                      </label>

                      <div class="puckWrap" title="Drag the dot to set shadow direction + length">
                        <canvas id="shadowPuck" width="120" height="120"></canvas>
                        <div class="puckLabel">direction</div>
                      </div>
                    </div>

                    <label>
                      Shadow opacity
                      <input id="shadowOpacity" type="range" min="0" max="0.9" step="0.01" value="0.34">
                    </label>
                    <label>
                      Shadow color
                      <input id="shadowColor" type="color" value="#000000">
                    </label>
                  </div>
                </details>

                <details class="styleSection">
                  <summary>Sketch Pattern</summary>
                  <div class="styleSectionBody">
                    <label class="inline">
                      <span>Cross hatching (outside)</span>
                      <input id="hatchOn" type="checkbox" checked>
                    </label>

                    <label>
                      Hatch density
                      <input id="hatchDensity" type="range" min="0.25" max="30" step="0.25" value="14">
                    </label>

                    <label>
                      Hatch opacity
                      <input id="hatchOpacity" type="range" min="0" max="0.7" step="0.01" value="0.22">
                    </label>
                    <label>
                      Hatch color
                      <input id="hatchColor" type="color" value="#1f2933">
                    </label>

                    <label>
                      Hatch depth
                      <input id="hatchDepth" type="range" min="0" max="34" step="1" value="12">
                    </label>
                  </div>
                </details>

                <details class="styleSection">
                  <summary>Text &amp; Label Render</summary>
                  <div class="styleSectionBody">
                    <label class="inline">
                      <span>Show text in preview</span>
                      <input id="showTextPreview" type="checkbox" checked>
                    </label>
                    <label class="inline">
                      <span>Include text in export</span>
                      <input id="showTextExport" type="checkbox" checked>
                    </label>
                  </div>
                </details>

                <details class="styleSection">
                  <summary>Water</summary>
                  <div class="styleSectionBody">
                    <label class="inline">
                      <span>Show water</span>
                      <input id="waterEnabled" type="checkbox" checked>
                    </label>
                    <label>
                      Water color
                      <input id="waterColor" type="color" value="#6bb8ff">
                    </label>
                    <label>
                      Water opacity
                      <input id="waterOpacity" type="range" min="0.05" max="0.9" step="0.01" value="0.4">
                    </label>
                    <label>
                      Water brush width
                      <input id="waterWidth" type="range" min="12" max="160" step="2" value="52">
                    </label>
                    <label class="inline">
                      <span>Water outline</span>
                      <input id="waterOutlineEnabled" type="checkbox" checked>
                    </label>
                    <label class="inline">
                      <span>Water ripples</span>
                      <input id="waterRipplesEnabled" type="checkbox" checked>
                    </label>
                  </div>
                </details>

              </div>

              <div id="textStylePanel" class="controls hidden">
                <div class="assetsIntro">Text settings (selected label)</div>
                <label>
                  Text
                  <input id="textContentInput" type="text" placeholder="Label">
                </label>
                <label>
                  Font
                  <select id="textFontFamily">
                    <option value="Minecraft Five">Minecraft Five</option>
                    <option value="system-ui">Sans</option>
                    <option value="serif">Serif</option>
                    <option value="monospace">Monospace</option>
                  </select>
                </label>
                <label>
                  Google Font
                  <div class="fontLoadRow">
                    <input id="googleFontFamilyInput" type="text" placeholder="Search / enter family (e.g. Inter, Cinzel)" list="googleFontSuggestions" autocomplete="off">
                    <button id="btnLoadGoogleFont" type="button" class="ghostBtn">Load</button>
                  </div>
                  <div id="googleFontStatus" class="fontStatus" aria-live="polite"></div>
                  <div id="googleFontRecent" class="fontRecent" aria-label="Recent Google fonts"></div>
                  <datalist id="googleFontSuggestions">
                    <option value="Inter"></option>
                    <option value="Roboto"></option>
                    <option value="Open Sans"></option>
                    <option value="Montserrat"></option>
                    <option value="Poppins"></option>
                    <option value="Lato"></option>
                    <option value="Nunito"></option>
                    <option value="Oswald"></option>
                    <option value="Raleway"></option>
                    <option value="Playfair Display"></option>
                    <option value="Merriweather"></option>
                    <option value="Lora"></option>
                    <option value="Cinzel"></option>
                    <option value="Cormorant Garamond"></option>
                    <option value="Bebas Neue"></option>
                    <option value="Orbitron"></option>
                    <option value="Rubik"></option>
                    <option value="DM Serif Display"></option>
                    <option value="Press Start 2P"></option>
                    <option value="MedievalSharp"></option>
                    <option value="Uncial Antiqua"></option>
                    <option value="JetBrains Mono"></option>
                    <option value="Fira Sans"></option>
                    <option value="Tektur"></option>
                  </datalist>
                </label>
                <label>
                  Size
                  <input id="textFontSize" type="range" min="8" max="144" step="1" value="20">
                  <div class="pdfRangeValue"><span id="textFontSizeOut">20</span> px</div>
                </label>
                <label>
                  Color
                  <input id="textColorInput" type="color" value="#1f2933">
                </label>
              </div>

              <details class="subFold">
                                <summary>Help</summary>
                                <div class="hint">
                                <div><b>Select</b>: move props by dragging; drag the blue handle to rotate (toggle prop grid snap on/off)</div>
                                <div><b>Rectangle</b>: drag to create a snapped rectangle</div>
                                <div><b>Straight path</b>: tap to add points, double-tap to end</div>
                                <div><b>Arc</b>: drag out radius, then drag a sweep; near a full loop snaps to a circle</div>
                                <div><b>Path</b>: draw with one finger, lift to finish</div>
                                <div><b>Polygon</b>: tap+drag to create a regular polygon; use the Polygon sides slider (3–12), then drag handles to resize/rotate; tap center to move</div>
                                <div><b>Erase</b>: drag a snapped box on the sub-grid to cut out volume cells (finer than the visible grid)</div>
                                <div><b>Erase</b> toggle: turns the current drawing tool into subtract mode (Rectangle / Straight path / Path / Draw / Polygon)</div>
                        <div><b>Mouse/Trackpad</b>: wheel pan • pinch/ctrl+wheel zoom (cursor-centered) • right/middle drag pan</div>
                                <div><b>Touch</b>: two-finger drag pan • pinch zoom</div>
                                </div>
                              </details>
            </section>

            <section id="assetsPage" class="panelPage hidden" data-panel-page="assets" role="tabpanel" aria-hidden="true">
              <div class="assetsIntro">Load a folder of PNG props (doors, beds, fireplaces, etc.) and drag them onto the map.</div>
              <div class="propsBlock">
                                  <div class="propsToolbar">
                                    <button id="btnPropsPick" type="button" title="Pick a folder of PNG prop icons/thumbnails">Set Asset Folder…</button>
                                    <button id="btnPropsDefaults" type="button" class="ghostBtn" title="Reload bundled props">Defaults</button>
                                    <button id="btnPropsClear" type="button" title="Clear imported prop previews">Clear Imported</button>
                                  </div>
                                  <input id="propsFolderInput" type="file" accept=".png,.svg,.webp,.jpg,.jpeg,image/*" webkitdirectory multiple hidden>
                                  <div class="propsHint">Prototype shelf for imported prop PNGs (doors, beds, fireplaces, etc.). Placement tools can hook into this next.</div>
                                  <div id="propsShelf" class="propsShelf empty" aria-live="polite">
                                    <div class="propsEmpty">No props loaded yet</div>
                                  </div>
                                </div>
              <div class="assetsHint">Tip: Select, then tap to place. Right-click to disable shadows for props.</div>
            </section>
          </div>
        </div>
      </div>

      <button id="drawerPeekTab" class="drawerPeekTab" type="button" title="Open inspector" aria-label="Open inspector">☰</button>
    </aside>
  </div>


  <div id="coverPage" class="coverPageOverlay hidden" aria-hidden="true">
    <div class="coverPageScrim" data-cover-close></div>
    <section class="coverPageCard" role="dialog" aria-modal="true" aria-labelledby="coverPageTitle">
      <button id="btnCoverClose" class="coverPageClose" type="button" aria-label="Close cover page">✕</button>
      <div class="coverPageHeader">
      <h1 id="coverPageTitle">Dungeon Sketch</h1>
      <div class="coverPageVersion">Alpha v0.15</div>
      <p class="coverPageLead">A sketch-first battlemapping workspace for quickly shaping encounter layouts, refining readability, and exporting maps for play.</p>
      </div>
      <section class="coverPageSection">
        <h2>About</h2>
        <p>Dungeon Sketch is built for fast iteration: block out walls, paths, arcs, polygons, water, props, and labels directly on the canvas, then tune presentation with grid, shadow, hatch, and export controls.</p>
        <p>This cover page is informational only. Click the <strong>Dungeon Sketch version badge</strong> anytime to come back here.</p>
      </section>

      <section class="coverPageSection">
        <h2>Feature overview</h2>
        <div class="coverFeatureList">
          <article class="coverFeatureItem">
            <h3>Sketch quickly</h3>
            <p>Rectangle, draw, path, straight path, arc, polygon, water, and text tools keep layout ideation fast.</p>
          </article>
          <article class="coverFeatureItem">
            <h3>Style clearly</h3>
            <p>Control walls, gridlines, floor color, shadows, hatching, props, and text visibility without leaving the workspace.</p>
          </article>
          <article class="coverFeatureItem">
            <h3>Export cleanly</h3>
            <p>Generate PNG exports or tiled PDFs with tabletop-friendly square sizing and print layout options.</p>
          </article>
        </div>
      </section>

      <section class="coverPageSection">
        <div class="coverSectionHeader">
          <h2>Patch notes</h2>
          <div class="coverSectionMeta">Recent changes and current notes</div>
        </div>
        <div id="coverPatchNotes" class="coverPatchNotes" aria-live="polite"></div>
      </section>

      <section class="coverPageSection coverStatusSection">
        <h2>Development status</h2>
        <p>This is an active alpha build. Features, behavior, and save compatibility may shift as the app evolves.</p>
      </section>
    </section>
  </div>

  <div id="textEditOverlay" class="textEditOverlay hidden" aria-hidden="true">
    <textarea id="textCanvasEditor" class="textCanvasEditor" rows="1" spellcheck="false" placeholder="Label"></textarea>
    <div class="textCanvasEditorHint">Enter to save · Esc to cancel</div>
  </div>

  <input id="fileLoadMap" type="file" accept="application/json,.json" style="display:none" />


  
  <div id="pngExportModal" class="pdfModalOverlay hidden" aria-hidden="true">
    <div class="pdfModalScrim" data-png-modal-close></div>
    <div class="pdfModalCard" role="dialog" aria-modal="true" aria-labelledby="pngExportTitle">
      <div class="pdfModalHeader">
        <div>
          <div class="pdfModalEyebrow">Export</div>
          <h2 id="pngExportTitle">PNG Export</h2>
        </div>
        <button id="btnPngModalClose" class="iconBtn" type="button" aria-label="Close PNG export">✕</button>
      </div>
      <div class="pdfModalBody">
        <div class="pdfSectionCard">
          <div class="pdfSectionTitle">Image settings</div>
          <div class="pdfFormGrid">
            <label>
              <span>Content area</span>
              <select id="pngSource">
                <option value="map">Map bounds</option>
                <option value="viewport">Current viewport</option>
              </select>
            </label>
            <label>
              <span>Padding (grid squares)</span>
              <input id="pngPaddingSquares" type="number" min="0" max="100" step="0.5" value="1">
            </label>
            <label>
              <span>Square size (inches)</span>
              <input id="pngSquareSizeIn" type="number" min="0.1" max="4" step="0.1" value="1.0">
            </label>
            <label class="pdfFieldWide">
              <span>DPI</span>
              <input id="pngDpi" type="range" min="72" max="1200" step="4" value="300">
              <div class="pdfRangeValue"><span id="pngDpiOut">300</span> dpi</div>
            </label>
          </div>
          <div class="pdfHint">1.0 inch squares are standard for tabletop battle maps.</div>
        </div>
        <div class="pdfExportSummary" id="pngExportSummary">Ready to export.</div>
        <div class="pngExportWarning hidden" id="pngExportWarning" role="status" aria-live="polite"></div>
      </div>
      <div class="pdfModalFooter">
        <button id="btnPngCancel" type="button">Cancel</button>
        <button id="btnPngConfirm" class="primary" type="button">Export PNG</button>
      </div>
    </div>
  </div>

  <div id="pdfExportModal" class="pdfModalOverlay hidden" aria-hidden="true">
    <div class="pdfModalScrim" data-pdf-modal-close></div>
    <div class="pdfModalCard" role="dialog" aria-modal="true" aria-labelledby="pdfExportTitle">
      <div class="pdfModalHeader">
        <div>
          <div class="pdfModalEyebrow">Export</div>
          <h2 id="pdfExportTitle">PDF Export</h2>
        </div>
        <button id="btnPdfModalClose" type="button" class="drawerMiniBtn" title="Close">✕</button>
      </div>

      <div class="pdfModalBody">
        <div class="pdfSectionCard">
          <div class="pdfSectionTitle">Layout</div>
          <div class="pdfFormGrid">
            <label>
              Mode
              <select id="pdfMode">
                <option value="tiled">Tiled (poster / battlemat)</option>
                <option value="single">Single page (fit)</option>
              </select>
            </label>
            <label>
              Paper
              <select id="pdfPaper">
                <option value="LETTER">Letter</option>
                <option value="A4">A4</option>
              </select>
            </label>
            <label>
              Orientation
              <select id="pdfOrientation">
                <option value="auto">Auto</option>
                <option value="portrait">Portrait</option>
                <option value="landscape">Landscape</option>
              </select>
            </label>
            <label>
              Content area
              <select id="pdfSource">
                <option value="map">Map bounds</option>
                <option value="viewport">Current viewport</option>
              </select>
            </label>
            <label>
              Padding (grid squares)
              <input id="pdfPaddingSquares" type="number" min="0" max="100" step="1" value="1">
            </label>
            <label>
              Margins (inches)
              <input id="pdfMarginIn" type="number" min="0" max="2" step="0.05" value="0.25">
            </label>
            <label class="pdfFieldWide">
              Raster DPI
              <input id="pdfRasterDpi" type="range" min="96" max="600" step="4" value="220">
              <div class="pdfRangeValue"><span id="pdfRasterDpiOut">220</span> dpi</div>
            </label>
          </div>
        </div>

        <div class="pdfSectionCard" id="pdfTiledSection">
          <div class="pdfSectionTitle">Tiled print settings</div>
          <div class="pdfFormGrid">
            <label>
              Square print size (inches per grid square)
              <input id="pdfSquareSizeIn" type="number" min="0.1" max="5" step="0.05" value="1.0">
            </label>
            <label>
              Tile overlap (grid squares)
              <input id="pdfOverlapSquares" type="number" min="0" max="20" step="1" value="0">
            </label>
            <label class="inline pdfFieldWide">
              <span>Page labels (A1, A2, B1…)</span>
              <input id="pdfLabels" type="checkbox" checked>
            </label>
            <label class="inline pdfFieldWide">
              <span>Trim marks</span>
              <input id="pdfTrimMarks" type="checkbox" checked>
            </label>
            <label class="inline pdfFieldWide">
              <span>Assembly overview page</span>
              <input id="pdfOverview" type="checkbox" checked>
            </label>
            <label class="inline pdfFieldWide">
              <span>Include effectively empty pages</span>
              <input id="pdfIncludeEmptyTiles" type="checkbox">
            </label>
          </div>
          <div class="pdfHint">Off by default: tiles with no visible map interior and no placed props are skipped.</div>
        </div>

        <div class="pdfExportSummary" id="pdfExportSummary">Ready to export.</div>
      </div>

      <div class="pdfModalFooter">
        <button id="btnPdfCancel" type="button">Cancel</button>
        <button id="btnPdfConfirm" type="button" class="primary">Export PDF</button>
      </div>
    </div>
  </div>


  <div id="exportProgressOverlay" class="pdfModalOverlay hidden" aria-hidden="true">
    <div class="pdfModalScrim"></div>
    <div class="pdfModalCard exportProgressCard" role="status" aria-live="polite" aria-labelledby="exportProgressTitle">
      <div class="pdfModalHeader">
        <div>
          <div class="pdfModalEyebrow">Export</div>
          <h2 id="exportProgressTitle">Preparing export…</h2>
        </div>
      </div>
      <div class="pdfModalBody">
        <div class="exportProgressRow">
          <div class="exportSpinner" aria-hidden="true"></div>
          <div id="exportProgressMessage" class="exportProgressMessage">Starting…</div>
        </div>
        <div class="exportProgressBar" aria-hidden="true">
          <div id="exportProgressFill" class="exportProgressFill"></div>
        </div>
        <div id="exportProgressMeta" class="pdfHint exportProgressMeta">Working…</div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const STORAGE_KEY = 'dungeonSketch.alphaBannerDismissed.v1';
      const banner = document.getElementById('alphaBanner');
      const closeBtn = document.getElementById('btnAlphaBannerClose');
      if (!banner || !closeBtn) return;
      let dismissed = false;
      try {
        dismissed = localStorage.getItem(STORAGE_KEY) === '1';
      } catch (e) {}
      banner.hidden = dismissed;
      closeBtn.addEventListener('click', function(){
        banner.hidden = true;
        try { localStorage.setItem(STORAGE_KEY, '1'); } catch (e) {}
      });
    })();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script type="module" src="main.js"></script>
  
  <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "7388a2f5005044638ad1d44433aba727"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>
